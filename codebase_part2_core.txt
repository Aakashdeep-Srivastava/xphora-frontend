# XphoraPulse Codebase - Part 2: Core App Structure

This is part 2 of 5 of the XphoraPulse codebase.

## About This Part
Root app files, main layouts, and global application structure

## Project Structure:
```
ğŸ“ app/
  ğŸ“ (main)/
    ğŸ“ alerts/
      âš›ï¸ page.tsx
    ğŸ“ chat/
      âš›ï¸ page.tsx
    ğŸ“ dashboard/
      âš›ï¸ page.tsx
    ğŸ“ financial-pulse/
      âš›ï¸ page.tsx
    ğŸ“ insights/
      âš›ï¸ page.tsx
    ğŸ“ map/
      âš›ï¸ page.tsx
    ğŸ“ prediction/
      âš›ï¸ page.tsx
    ğŸ“ profile/
      âš›ï¸ page.tsx
    ğŸ“ report/
      ğŸ”· action.ts
      âš›ï¸ page.tsx
    âš›ï¸ layout.tsx
  ğŸ“ setup/
    âš›ï¸ page.tsx
  ğŸ¨ globals.css
  âš›ï¸ layout.tsx
  âš›ï¸ loading.tsx
  âš›ï¸ page.tsx
ğŸ“ components/
  ğŸ“ auth/
    âš›ï¸ auth-prompt.tsx
    âš›ï¸ auth-status-banner.tsx
    âš›ï¸ firebase-setup-guide.tsx
    âš›ï¸ oauth-debug.tsx
  ğŸ“ core/
    âš›ï¸ app-initializer.tsx
    âš›ï¸ fi-money-logo.tsx
    âš›ï¸ loading-animation.tsx
  ğŸ“ maps/
    âš›ï¸ city-map.tsx
  ğŸ“ mobile/
    âš›ï¸ app-sidebar.tsx
    âš›ï¸ bottom-nav.tsx
    âš›ï¸ location-edit-modal.tsx
    âš›ï¸ mobile-header.tsx
  ğŸ“ onboarding/
    âš›ï¸ welcome-screen.tsx
  ğŸ“ providers/
    âš›ï¸ config-validator.tsx
  ğŸ“ ui/
    âš›ï¸ accordion.tsx
    âš›ï¸ alert-dialog.tsx
    âš›ï¸ alert.tsx
    âš›ï¸ aspect-ratio.tsx
    âš›ï¸ avatar.tsx
    âš›ï¸ badge.tsx
    âš›ï¸ breadcrumb.tsx
    âš›ï¸ button.tsx
    âš›ï¸ calendar.tsx
    âš›ï¸ card.tsx
    âš›ï¸ carousel.tsx
    âš›ï¸ chart.tsx
    âš›ï¸ checkbox.tsx
    âš›ï¸ collapsible.tsx
    âš›ï¸ command.tsx
    âš›ï¸ context-menu.tsx
    âš›ï¸ dialog.tsx
    âš›ï¸ drawer.tsx
    âš›ï¸ dropdown-menu.tsx
    âš›ï¸ form.tsx
    âš›ï¸ hover-card.tsx
    âš›ï¸ input-otp.tsx
    âš›ï¸ input.tsx
    âš›ï¸ label.tsx
    âš›ï¸ menubar.tsx
    âš›ï¸ navigation-menu.tsx
    âš›ï¸ pagination.tsx
    âš›ï¸ popover.tsx
    âš›ï¸ progress.tsx
    âš›ï¸ radio-group.tsx
    âš›ï¸ resizable.tsx
    âš›ï¸ scroll-area.tsx
    âš›ï¸ select.tsx
    âš›ï¸ separator.tsx
    âš›ï¸ sheet.tsx
    âš›ï¸ sidebar.tsx
    âš›ï¸ skeleton.tsx
    âš›ï¸ slider.tsx
    âš›ï¸ sonner.tsx
    âš›ï¸ switch.tsx
    âš›ï¸ table.tsx
    âš›ï¸ tabs.tsx
    âš›ï¸ textarea.tsx
    âš›ï¸ toast.tsx
    âš›ï¸ toaster.tsx
    âš›ï¸ toggle-group.tsx
    âš›ï¸ toggle.tsx
    âš›ï¸ tooltip.tsx
    âš›ï¸ use-mobile.tsx
    ğŸ”· use-toast.ts
  âš›ï¸ error-boundary.tsx
  âš›ï¸ theme-provider.tsx
ğŸ“ config/
  ğŸ“‹ oauth-client.json
ğŸ“ contexts/
  âš›ï¸ auth-context.tsx
  âš›ï¸ location-context.tsx
ğŸ“ hooks/
  ğŸ”· use-live-data.ts
  âš›ï¸ use-mobile.tsx
  ğŸ”· use-toast.ts
ğŸ“ lib/
  ğŸ”· ai-insights-service.ts
  ğŸ”· api-services.ts
  ğŸ”· config.ts
  ğŸ”· error-handling.ts
  ğŸ”· firebase.ts
  ğŸ”· gemini-service.ts
  ğŸ”· google-maps-sdk.ts
  ğŸ”· google-services.ts
  ğŸ”· map-utils.ts
  ğŸ”· oauth-config.ts
  ğŸ”· report-storage.ts
  ğŸ”· utils.ts
ğŸ“ styles/
  ğŸ¨ globals.css
ğŸ“ types/
  ğŸ”· auth.ts
ğŸ“‹ .eslintrc.json
ğŸ“ README.md
ğŸ“‹ client_secret_14008380219-anv3mffil9pg5i7tiiu0iqsmnci1rsar.apps.googleusercontent.com.json
ğŸ“‹ components.json
ğŸŸ¨ extract-codebase.js
ğŸ”· next-env.d.ts
ğŸŸ¨ next.config.mjs
ğŸ“‹ package.json
ğŸŸ¨ postcss.config.mjs
ğŸŸ¨ prettier.config.js
ğŸ”· tailwind.config.ts
ğŸ“‹ tsconfig.json
ğŸ“‹ vercel.json
```



---

# Code Files


## File: app/page.tsx

```tsx
import AppInitializer from "@/components/core/app-initializer"

export default function HomePage() {
  return <AppInitializer />
}

```

## File: app/layout.tsx

```tsx
import type React from "react"
import type { Metadata, Viewport } from "next"
import { Inter } from "next/font/google"
import "./globals.css"
import { cn } from "@/lib/utils"
import { AuthProvider } from "@/contexts/auth-context"
import { Toaster } from "@/components/ui/toaster"
import { LocationProvider } from "@/contexts/location-context"
import { config, validateConfig } from "@/lib/config"
import { ErrorBoundary } from "@/components/error-boundary"

const inter = Inter({ subsets: ["latin"] })

// Validate configuration on app start (server-side only)
if (typeof window === "undefined") {
  try {
    validateConfig()
  } catch (error) {
    console.error("Configuration validation failed:", error)
  }
}

export const metadata: Metadata = {
  title: {
    default: config.app.name,
    template: `%s | ${config.app.name}`,
  },
  description: config.app.description,
  keywords: ["city intelligence", "bengaluru", "real-time", "traffic", "weather", "incidents"],
  authors: [{ name: "XphoraPulse Team" }],
  creator: "XphoraPulse",
  publisher: "XphoraPulse",
  formatDetection: {
    email: false,
    address: false,
    telephone: false,
  },
  manifest: "/manifest.json",
  appleWebApp: {
    capable: true,
    statusBarStyle: "default",
    title: config.app.name,
  },
  openGraph: {
    type: "website",
    locale: "en_US",
    url: config.app.url,
    title: config.app.name,
    description: config.app.description,
    siteName: config.app.name,
  },
  twitter: {
    card: "summary_large_image",
    title: config.app.name,
    description: config.app.description,
  },
  robots: {
    index: true,
    follow: true,
    googleBot: {
      index: true,
      follow: true,
      "max-video-preview": -1,
      "max-image-preview": "large",
      "max-snippet": -1,
    },
  },
    generator: 'v0.dev'
}

export const viewport: Viewport = {
  themeColor: [
    { media: "(prefers-color-scheme: light)", color: "#87ECE8" },
    { media: "(prefers-color-scheme: dark)", color: "#87ECE8" },
  ],
  width: "device-width",
  initialScale: 1,
  maximumScale: 1,
  userScalable: false,
  viewportFit: "cover",
}

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode
}>) {
  return (
    <html lang="en" className="dark">
      <head>
        <link rel="icon" href="/favicon.ico" sizes="any" />
        <link rel="icon" href="/icon.svg" type="image/svg+xml" />
        <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="default" />
      </head>
      <body className={cn("bg-background font-sans antialiased", inter.className)}>
        <ErrorBoundary>
          <LocationProvider>
            <AuthProvider>
              {children}
              <Toaster />
            </AuthProvider>
          </LocationProvider>
        </ErrorBoundary>
      </body>
    </html>
  )
}

```

## File: app/loading.tsx

```tsx
import { Loader2 } from "lucide-react"

export default function Loading() {
  return (
    <div className="flex h-dvh w-full items-center justify-center bg-background">
      <Loader2 className="h-8 w-8 animate-spin text-primary" />
    </div>
  )
}

```

## File: app/globals.css

```css
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 220 20% 98%;
    --foreground: 220 10% 15%;
    --card: 220 20% 100%;
    --card-foreground: 220 10% 15%;
    --popover: 220 20% 100%;
    --popover-foreground: 220 10% 15%;
    --primary: 178 73% 73%;
    --primary-foreground: 220 10% 15%;
    --secondary: 170 40% 96%;
    --secondary-foreground: 170 30% 25%;
    --muted: 220 15% 94%;
    --muted-foreground: 220 10% 45%;
    --accent: 178 70% 97%;
    --accent-foreground: 178 30% 20%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 15% 90%;
    --input: 220 15% 90%;
    --ring: 178 73% 73%;
    --radius: 0.75rem;
  }

  .dark {
    --background: 220 15% 12%;
    --foreground: 220 15% 95%;
    --card: 220 15% 18%;
    --card-foreground: 220 15% 95%;
    --popover: 220 15% 18%;
    --popover-foreground: 220 15% 95%;
    --primary: 178 73% 73%;
    --primary-foreground: 220 10% 15%;
    --secondary: 220 15% 25%;
    --secondary-foreground: 220 15% 95%;
    --muted: 220 15% 25%;
    --muted-foreground: 220 15% 65%;
    --accent: 178 30% 20%;
    --accent-foreground: 178 73% 85%;
    --destructive: 0 62.8% 50.6%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 15% 25%;
    --input: 220 15% 25%;
    --ring: 178 73% 73%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

```

---

**Part 2 Summary:**
- Files included: 4
- Files skipped: 0
- Total size: 8KB
